{"version":3,"sources":["webpack:///./src/app/mydatalog/exportlog/exportlog.module.ts","webpack:///./src/app/mydatalog/exportlog/exportlog.page.html","webpack:///./src/app/mydatalog/exportlog/exportlog.page.scss","webpack:///./src/app/mydatalog/exportlog/exportlog.page.ts"],"names":[],"mappings":"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","file":"mydatalog-exportlog-exportlog-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ExportlogPage } from './exportlog.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ExportlogPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ExportlogPage]\n})\nexport class ExportlogPageModule {}\n","module.exports = \"<ion-content padding>\\n\\n    <h2 class='ion-header' style=\\\"padding-top: 5%\\\">\\n        Export My Data Log\\n    </h2>\\n\\n    <h3 style=\\\"padding-top: 8%\\\">\\n      Please choose the period of your data log you wish to export via email.\\n    </h3>\\n\\n    <form [formGroup]=\\\"dataLogForm\\\">\\n    <h3><ion-label>Date From</ion-label></h3>\\n    <h5><ion-datetime formControlName=\\\"dateFrom\\\" display-format=\\\"DD MM YYYY\\\" picker-format=\\\"DD MM YYYY\\\" value=\\\"\\\" class=\\\"rcorners\\\"></ion-datetime></h5>\\n    <div class=\\\"error-messages\\\">\\n      <ng-container *ngFor=\\\"let error of error_messages.dateFrom\\\">\\n        <div class=\\\"error-messages\\\" *ngIf=\\\"profileForm.get('dateFrom').hasError(error.type) && (profileForm.get('dateFrom').dirty || profileForm.get('dateFrom').touched)\\\">\\n          {{ error.message }}\\n        </div>\\n      </ng-container>\\n    </div>\\n\\n    <h3><ion-label>Date To</ion-label></h3>\\n    <h5><ion-datetime formControlName=\\\"dateTo\\\" display-format=\\\"DD MM YYYY\\\" picker-format=\\\"DD MM YYYY\\\" value=\\\"\\\" class=\\\"rcorners\\\"></ion-datetime></h5>\\n    <div class=\\\"error-messages\\\">\\n      <ng-container *ngFor=\\\"let error of error_messages.dateTo\\\">\\n        <div class=\\\"error-messages\\\" *ngIf=\\\"profileForm.get('dateTo').hasError(error.type) && (profileForm.get('dateTo').dirty || profileForm.get('dateTo').touched)\\\">\\n          {{ error.message }}\\n        </div>\\n      </ng-container>\\n    </div>\\n  </form>\\n   <div class=\\\"box\\\" style=\\\"padding-top: 5%\\\">\\n  <ion-button [disabled]=\\\"!dataLogForm.valid\\\" position=\\\"center\\\" shape=\\\"round\\\" routerDirection=\\\"forward\\\" (click)=\\\"submit()\\\" >\\n    <ion-icon slot=\\\"end\\\" name=\\\"send\\\"></ion-icon>\\n  Compose email\\n</ion-button>\\n</div>\\n\\n</ion-content>\\n\"","module.exports = \"h3 {\\n  color: white;\\n  text-align: center;\\n  font-size: 15px !important; }\\n\\nh4 {\\n  color: white;\\n  text-align: center;\\n  font-size: 10px !important; }\\n\\nh5 {\\n  color: black;\\n  text-align: center;\\n  font-size: 20px !important; }\\n\\nh6 {\\n  color: white;\\n  text-align: right;\\n  font-size: 15px !important; }\\n\\n.error-messages {\\n  color: red;\\n  text-align: center;\\n  font-size: 0.7em; }\\n\\n.rcorners {\\n  align-content: center;\\n  border-radius: 15px;\\n  border: 0px;\\n  background-color: white;\\n  width: 100%;\\n  height: 100%;\\n  text-align: center;\\n  align-content: center;\\n  margin-bottom: 10px;\\n  padding: 5px; }\\n\\n.rcornersbox {\\n  align-content: left;\\n  font-size: 1em;\\n  border-radius: 15px;\\n  border: 0px;\\n  background-color: white;\\n  width: 100%;\\n  height: 40%;\\n  text-align: left;\\n  margin-bottom: 20px;\\n  padding: 10px; }\\n\\n.box {\\n  position: relative;\\n  width: 100%;\\n  height: 50px;\\n  text-align: center;\\n  align-content: center; }\\n\\n.bottom-right {\\n  position: absolute;\\n  bottom: 5px;\\n  right: 5px;\\n  margin: 5px;\\n  align-content: right; }\\n\\n#edit-button {\\n  width: 80px;\\n  height: 30px;\\n  border-radius: 15px;\\n  border: none;\\n  margin: 10px; }\\n\\n#edit-icon {\\n  height: 20px;\\n  width: 20px;\\n  display: block;\\n  border: none;\\n  margin: 5px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93aW5ncGluZ3RzYW5nL0Rlc2t0b3AvQ09NUDAwNjdfMjAxOV9UZWFtMTUvbXlOZXBocm90aWNOb3RlYm9vay9zcmMvYXBwL215ZGF0YWxvZy9leHBvcnRsb2cvZXhwb3J0bG9nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsMEJBQTBCLEVBQUE7O0FBRzlCO0VBQ0ksWUFBWTtFQUNaLGtCQUFrQjtFQUNsQiwwQkFBMEIsRUFBQTs7QUFHOUI7RUFDSSxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLDBCQUEwQixFQUFBOztBQUc5QjtFQUNJLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsMEJBQTBCLEVBQUE7O0FBSTlCO0VBQ0ksVUFBVTtFQUNWLGtCQUFrQjtFQUNsQixnQkFBZ0IsRUFBQTs7QUFJcEI7RUFDSSxxQkFBcUI7RUFDckIsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCx1QkFBdUI7RUFDdkIsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIscUJBQXFCO0VBQ3JCLG1CQUFtQjtFQUNuQixZQUFZLEVBQUE7O0FBR2hCO0VBQ0ksbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxtQkFBbUI7RUFDbkIsV0FBVztFQUNYLHVCQUF1QjtFQUN2QixXQUFXO0VBQ1gsV0FBVztFQUNYLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsYUFBYSxFQUFBOztBQUdqQjtFQUNBLGtCQUFrQjtFQUNsQixXQUFVO0VBQ1YsWUFBVztFQUNYLGtCQUFrQjtFQUNsQixxQkFBcUIsRUFBQTs7QUFHckI7RUFDSSxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFVBQVU7RUFDVixXQUFXO0VBQ1gsb0JBQW9CLEVBQUE7O0FBR3hCO0VBQ0ksV0FBVTtFQUNWLFlBQVc7RUFDWCxtQkFBa0I7RUFDbEIsWUFBVztFQUNYLFlBQVcsRUFBQTs7QUFHZjtFQUNJLFlBQVc7RUFDWCxXQUFVO0VBQ1YsY0FBYztFQUNkLFlBQVc7RUFDWCxXQUFVLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9teWRhdGFsb2cvZXhwb3J0bG9nL2V4cG9ydGxvZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJoMyB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDE1cHggIWltcG9ydGFudDtcbn1cblxuaDQge1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbmg1IHtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMjBweCAhaW1wb3J0YW50O1xufVxuXG5oNiB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIGZvbnQtc2l6ZTogMTVweCAhaW1wb3J0YW50O1xufVxuXG5cbi5lcnJvci1tZXNzYWdlcyB7XG4gICAgY29sb3I6IHJlZDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAwLjdlbTtcbn1cblxuXG4ucmNvcm5lcnMge1xuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJvcmRlcjogMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyBcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7IFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICBwYWRkaW5nOiA1cHg7XG59XG5cbi5yY29ybmVyc2JveCB7XG4gICAgYWxpZ24tY29udGVudDogbGVmdDtcbiAgICBmb250LXNpemU6IDFlbTtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgIGJvcmRlcjogMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyBcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDQwJTsgXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5ib3gge1xucG9zaXRpb246IHJlbGF0aXZlO1xud2lkdGg6MTAwJTtcbmhlaWdodDo1MHB4O1xudGV4dC1hbGlnbjogY2VudGVyO1xuYWxpZ24tY29udGVudDogY2VudGVyO1xufVxuXG4uYm90dG9tLXJpZ2h0IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiA1cHg7XG4gICAgcmlnaHQ6IDVweDtcbiAgICBtYXJnaW46IDVweDtcbiAgICBhbGlnbi1jb250ZW50OiByaWdodDtcbn1cblxuI2VkaXQtYnV0dG9ue1xuICAgIHdpZHRoOjgwcHg7XG4gICAgaGVpZ2h0OjMwcHg7XG4gICAgYm9yZGVyLXJhZGl1czoxNXB4O1xuICAgIGJvcmRlcjpub25lO1xuICAgIG1hcmdpbjoxMHB4O1xufVxuXG4jZWRpdC1pY29ue1xuICAgIGhlaWdodDoyMHB4O1xuICAgIHdpZHRoOjIwcHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgYm9yZGVyOm5vbmU7XG4gICAgbWFyZ2luOjVweDtcbn1cblxuIl19 */\"","import { Component, OnInit, ɵConsole } from '@angular/core';\nimport { FetchReadingService } from '../../services/fetch-reading.service';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormBuilder, FormControl, Validators, FormArray } from '@angular/forms';\nimport { Http } from '@angular/http';\nimport * as papa from 'papaparse';\nimport { EmailComposer } from '@ionic-native/email-composer/ngx';\nimport { AlertController, Platform} from '@ionic/angular';\nimport { File } from '@ionic-native/file/ngx';\n\n@Component({\n  selector: 'app-exportlog',\n  templateUrl: './exportlog.page.html',\n  styleUrls: ['./exportlog.page.scss'],\n})\nexport class ExportlogPage implements OnInit {\n\n  public export_data_log\t  : any \t= null;\n  isThereData: boolean = false;\n  dataLogForm: FormGroup;\n  public csv\t  : any \t= null;\n  dirName = 'mydatalog';\n  fileName = 'MyNephroticNotebook.csv';\n  nativeFilePath: any \t= null;\n  dirPath: any \t= null;\n  nativePath: any \t= null;\n  possiblePath:any \t= null;\n  startdate:any \t= null;\n  enddate:any \t= null;\n\n  error_messages = {\n    'dateFrom': [\n      { type: 'required', message: 'This date is needed!' }\n    ],\n    'dateTo': [\n      { type: 'required', message: 'This date is needed too!' }\n    ]\n  }\n\n  constructor(private platform: Platform, public file: File, public fileNavigator: File, public alertController: AlertController, private emailComposer: EmailComposer, private http: Http, private router: Router, public formBuilder: FormBuilder, public fetchReading:FetchReadingService) {\n\n    this.dataLogForm = this.formBuilder.group({\n      dateFrom: new FormControl('',Validators.compose([\n        Validators.required\n      ])),\n      dateTo: new FormControl('',Validators.compose([\n        Validators.required\n      ]))\n    });\n  }\n\n  ngOnInit(){\n    this.presentAlertConfirm()\n  }\n\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      message: 'Please confirm that you are either sharing your own data here, or, you have the full consent of the patient to share this data.',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel');\n            this.router.navigateByUrl('tabs/tab3');\n          }\n        }, {\n          text: 'Okay',\n          handler: () => {\n            console.log('Confirm Okay');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  submit() {\n\n    console.log('From: ', this.dataLogForm.value.dateFrom);\n    console.log('To: ', this.dataLogForm.value.dateTo);\n    this.getDataLog(this.dataLogForm.value.dateFrom,this.dataLogForm.value.dateTo)\n    this.startdate=this.dataLogForm.value.dateFrom.split('T',2)[0];\n    this.enddate=this.dataLogForm.value.dateTo.split('T',2)[0];\n\n  } \n\n  public getDataLog(dateFrom, dateTo) : void\n   {  \t\n      console.log(\"getDatalog reached\");\n      this.fetchReading\n      .exportDataLog(dateFrom, dateTo)\n      .then((data) => \n      {\n         let existingData      = Object.keys(data).length;\n         if(existingData !== 0)\n         {\n            this.export_data_log \t= data;\n            this.isThereData \t= true;\n         }\n         this.convertToCSV()\t    \t\t\t  \t\t\t\n      });\n   } \n\n   convertToCSV(){\n\n    this.csv = papa.unparse(this.export_data_log);\n    console.log(\"csv\", this.csv);\n\n    let result = this.file.createDir(this.file.dataDirectory, this.dirName, true);\n    result.then( data => \n      {\n      this.dirPath = data.toURL();\n      console.log('Directory exists at:', this.dirPath)\n\n      let path = this.file.writeFile(this.dirPath, this.fileName, this.csv, {replace: true});\n      path.then( dataFile => \n        {\n          this.nativeFilePath = dataFile.toURL();\n          console.log('File exists at:', this.nativeFilePath)\n          this.checkPlatform()\n\n        })\n        .catch(error => {\n          console.log('File doesn\\'t exist:', error);\n        })\n\n    })\n    .catch(error => {\n      console.log('Directory doesn\\'t exist:', error);\n    })\n\n    \n\n  }\n\n  checkPlatform(){\n\n    if (this.platform.is('android')) {\n      this.possiblePath = this.nativeFilePath;\n      console.log(\"native path android\", this.possiblePath)\n    } \n    else {\n      this.possiblePath = this.nativeFilePath.slice(7);\n      console.log(\"native path:\", this.possiblePath)\n    }\n    this.composeEmail()\n\n   }\n\n   composeEmail(){\n     \n     let email = {\n       attachments: [this.possiblePath],\n       subject: 'My Nephrotic Notebook Data Log',\n       body: 'My Data Log \\nFrom: ' + this.startdate + '\\nTo: ' + this.enddate,\n     }\n     \n     this.emailComposer.open(email);\n\n   }\n \n\n   goBack(){\n    this.router.navigateByUrl('tabs/tab3');\n   }\n\n}\n"],"sourceRoot":""}